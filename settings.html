<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Icons+Outlined" />
    <title>SpendWise</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Material Symbols Outlined', sans-serif;
        }

        body, html {
            height: 100%;
            background-color: #ffffff;
        }

        .container {
            display: grid;
            grid-template-columns: auto 3.75fr 1.5fr;
            grid-template-rows: 0.75fr 1.75fr 3.25fr;
            grid-template-areas: 
                "header header header"
                "sidebar main profile"
                "sidebar section profile";
            height: 100vh;
            gap: 5px;
            padding: 5px;
        }

        .header, .sidebar, .main, .profile, .section {
            text-align: center;
            justify-content: center;
            border-radius: 20px;
            max-width: 100%;
        }

        .header {
            background-color: #3498db;
            color: white;
            grid-area: header;
        }
        
        .header {
          padding: 15px;
          display: flex;
          justify-content: space-between;
          align-items: center;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Add box shadow effect */
        }
    
        #brand {
          color: #fff; /* Choose your desired text color */
          font-size: 1.5em;
          margin: 0;
        }
    
        #add-an-expense-btn {
          background-color: #2ecc71; /* Choose your desired button color */
          color: #fff; /* Choose your desired button text color */
          padding: 10px 20px;
          border: none;
          border-radius: 20px;
          font-size: 1em;
          cursor: pointer;
        }

        #add-an-expense-btn-mobile {
            display: none;
        }

        .sidebar {
            background-color: rgb(167, 116, 167);
            grid-area: sidebar;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .sidebar a {
            text-decoration: none;
            color: white;
            padding: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .icon {
            font-size: 24px;
            margin: 1px;
            display: flex;
            align-items: center;
        }

        .main {
            background-color: rgb(43, 226, 52);
            grid-area: main;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr; /* Divide into three equal parts */
            gap: 5px;
        }

        .profile {
            background-color: rgb(165, 42, 138);
            grid-area: profile;

        }

        .profile .h {
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Add box shadow effect */
        }
        

        #h1 {
            color: #fff; /* Choose your desired text color */
            font-size: 1.5em;
            margin: 10px;
            padding: 10px;
        }

        /* Add styling for the button */
        .profile button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #4caf50;
            color: #fff;
            border: none;
            cursor: pointer;
            border-radius: 20px;
        }
        
        /* Add styling for the table */
        .profile table {
            width: 80%;
            border-collapse: collapse;
            margin: 20px auto; /* Center the table horizontally with margin */
        }   

        .profile th, .profile td {
            padding: 10px;
            border: 1px solid #ddd;
            position: relative;
        }

        #friendTable th:nth-child(1) {
            width: 80%; /* Adjust the width percentage as needed */
        }
        
        #friendTable th:nth-child(2) {
            width: 20%; /* Adjust the width percentage as needed */
        }
        
        /* Add some basic styling for the second container */
        .second-container {
            display: none;
            width: 80%;
            margin: 1px;
            background-color: #e0e0e0;
            padding: 20px;
            border: 1px solid #999;
            text-align: center;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
            filter: blur(0);
            transition: filter 0.3s;
        }

        /* Add styling for the form */
        .second-container form {
            margin-top: 20px;
        }

        .second-container form label {
            display: block;
            margin-bottom: 8px;
        }

        .second-container form input {
            width: 100%;
            padding: 8px;
            margin-bottom: 16px;
            box-sizing: border-box;
        }

        .second-container form button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #4caf50;
            color: #fff;
            border: none;
            cursor: pointer;
        }
        
        .delete-button {
            position: absolute;
            top: 0;
            right: 0;
            background-color: #f44336;
            color: #fff;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
        }

        .section {
            background-color: brown;
            grid-area: section;
            display: grid;
            grid-template-columns: 1fr 1fr; /* Divide into two equal parts */
            gap: 5px;
        }
        
        @media screen and (max-width: 600px) {
            .container {
                grid-template-rows: .3fr .3fr 1fr 1fr;
                grid-template-columns: 1fr; /* Change to a single column layout for small screens */
                grid-template-areas: 
                    "header"
                    "main"
                    "profile"
                    "section"
                    "sidebar";
            }
    
            /* You can add specific styling for smaller screens here */
            .header {
                padding: 10px;
            }
    
            #add-an-expense-btn {
                display: none; /* Hide the button for small screens */
            }

            #add-an-expense-btn-mobile {
                padding: 10px;
                font-size: 1.5em;
                margin: 10px; /* Add margin for spacing */
            }

            #add-an-expense-btn-mobile {
                margin: 10px;
                width: 40px; /* Set the width and height to create a circle */
                height: 40px;
                border: none;
                background-color: #2ecc71;
                color: #fff;
                cursor: pointer;
                border-radius: 50%; /* Set border-radius to 50% for a circle */
                display: flex;
                align-items: center;
                justify-content: center;
                transition: all 0.3s ease;
            }
    
            .sidebar {
                flex-direction: row; /* Display sidebar links in a row for small screens */
                

            }
    
            .sidebar a {
                padding: 10px 5px;
            }

            .icon {
                font-size: 2px;
                margin: 10px;
                display: flex;
                align-items: center;
                justify-content: space-between;
            }
    
            .main {
                grid-template-columns: 1fr; /* Change to a single column layout for small screens */
            }

            #add-a-friend-btn {
                margin: 10px;
                width: 40px; /* Set the width and height to create a circle */
                height: 40px;
                border: none;
                background-color: #2ecc71;
                color: #fff;
                cursor: pointer;
                border-radius: 50%; /* Set border-radius to 50% for a circle */
                display: flex;
                align-items: center;
                justify-content: center;
                transition: all 0.3s ease;
            }
    
            .section {
                grid-template-columns: 1fr; /* Change to a single column layout for small screens */
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!---------------------------------------Header / NavBar-------------------------------------------->
        <div class="header">
          <span class="material-icons-outlined">
              wallet
          </span>
          <div id="brand">
              SpendWise
          </div>
          <button id="add-an-expense-btn">Add an Expense</button>
          <button id="add-an-expense-btn-mobile" onclick="alert('Please add an Expense')">+</button>
        </div>
        <!---------------------------------------Sidebar to Menu Bar------------------------------->
        <div class="sidebar">
            <a href="Spendwise.html" class="icon"><span class="material-icons-outlined">dashboard</span></a>
            <a href="groups.html" class="icon"><span class="material-icons-outlined">groups</span></a>
            <a href="#" class="icon"><span class="material-icons-outlined">analytics</span></a>
            <a href="#" class="icon"><span class="material-icons-outlined">receipt_long</span></a>
            <a href="settings.html" class="icon"><span class="material-icons-outlined">settings</span></a>
        </div>
        <div class="main"></div>
        <!---------------------------------------Profile-------------------------------------------->
        <div class="profile">
            <div class="h">
                <div id="h1">Friend's List</div>
                <!-- "Add a Friend" Button inside the first container -->
                <button id="add-a-friend-btn" onclick="openForm()">+</button>
            </div>

            <!-- Table inside the first container -->
            <table id="friendTable">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>X</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Table body will be dynamically populated -->
                </tbody>
            </table>
        </div>
        <!---------------------------------------Add a Friend Form--------------------------------------->
        <div class="second-container" id="second-container" onclick="preventCloseForm(event)">
            <h1>Enter Friend's Name</h1>
            
            <!-- Form inside the second container -->
            <form id="friendForm">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required>
                
                <!-- Add more form fields as needed -->
        
                <button type="button" onclick="cancelForm()">Cancel</button>
                <button type="button" onclick="addFriend()">Add</button>
            </form>
        </div>
        <!---------------------------------------Section--------------------------------------->
        <div class="section"></div>
    </div>

    <script>

        //---------------------------Add a Friend Form and Functions---------------------------//

        function openForm() {
            // Show the second container (form container)
            document.getElementById('second-container').style.display = 'block';
            // Apply blur effect to the first container
            document.getElementById('first-container').style.filter = 'blur(5px)';
        }
    
        function cancelForm() {
            // Show the first container (button container)
            document.getElementById('first-container').style.display = 'block';
            // Hide the second container (form container)
            document.getElementById('second-container').style.display = 'none';
            // Remove blur effect from the first container
            document.getElementById('first-container').style.filter = 'blur(0)';
        }
    
    function addFriend() {
        // Retrieve the entered name from the form
        var newName = document.getElementById('name').value;
    
        // Check if the name is not empty
        if (newName.trim() !== "") {
            // Create a new row in the table and append the name and delete button
            var table = document.getElementById('friendTable').getElementsByTagName('tbody')[0];
            var newRow = table.insertRow(table.rows.length);
    
            // Add name to the first cell
            var nameCell = newRow.insertCell(0);
            nameCell.appendChild(document.createTextNode(newName));
    
            // Add delete button to the second cell
            var deleteCell = newRow.insertCell(1);
            var deleteButton = document.createElement('button');
            deleteButton.appendChild(document.createTextNode('X'));
            deleteButton.classList.add('delete-button');
            deleteButton.onclick = function() {
                deleteRow(this);
            };
            deleteCell.appendChild(deleteButton);
    
            // Optionally, you can reset the form
            document.getElementById('friendForm').reset();
    
            // Sort the table after adding a new friend
            sortTable();
    
            // Hide the second container (form container)
            document.getElementById('second-container').style.display = 'none';
            // Remove blur effect from the first container
            document.getElementById('first-container').style.filter = 'blur(0)';
        } else {
            // Alert user if the name is empty
            alert('Please enter a name.');
        }
    }
    
        function deleteRow(button) {
            // Get the reference of the button's parent row
            var row = button.parentNode.parentNode;
    
            // Remove the row from the table
            row.parentNode.removeChild(row);
        }
        
          function sortTable() {
            // Get the table body
            var tbody = document.getElementById('friendTable').getElementsByTagName('tbody')[0];
    
            // Get all rows in the table body
            var rows = Array.from(tbody.getElementsByTagName('tr'));
    
            // Sort the rows based on the text content of the first cell (name)
            rows.sort(function(a, b) {
                var nameA = a.cells[0].textContent.toUpperCase();
                var nameB = b.cells[0].textContent.toUpperCase();
                if (nameA < nameB) return -1;
                if (nameA > nameB) return 1;
                return 0;
            });
    
            // Remove all existing rows from the table
            rows.forEach(function(row) {
                tbody.removeChild(row);
            });
    
            // Append the sorted rows back to the table
            rows.forEach(function(row) {
                tbody.appendChild(row);
            });
        }
    
        function preventCloseForm(event) {
            // Prevent the click event from reaching the body and closing the form
            event.stopPropagation();
        }



        // ---------------------------Page.html---------------------------------//    
        // Add event listeners to handle sidebar link clicks
        document.querySelectorAll('.sidebar a').forEach(function(link) {
            link.addEventListener('click', function(event) {
                event.preventDefault();
                
                // Get the href attribute of the clicked link
                var pageUrl = this.getAttribute('href');
                
                // Use window.location.href to navigate to the respective page
                window.location.href = pageUrl;
            });
        });

    </script>
    
    
</body>
</html>
